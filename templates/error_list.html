{% extends "base.html" %}
{% block content %}

	<div class="chart-container">
		<canvas id="myChart"></canvas>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script>

		const data = {
			labels: {{labels | safe}},
			datasets: [{
				label: 'Error Codes',
				data: {{data | safe}},
				backgroundColor: ['#696969', '#808080', '#A9A9A9', '#C0C0C0', '#D3D3D3'],
			}]
		};

		const options = {
			responsive: true,
			maintainAspectRatio: true,
			plugins: {
				legend: {
					position: 'right',
				},
				title: {
					display: true,
					text: 'Fixed Errors'
				}
			}
		}

		const config = {
			type: 'pie',
			data: data,
			options: options
		};

		window.onload = function() {
			var ctx = document.getElementById('myChart').getContext('2d');
			window.myPie = new Chart(ctx, config);
		};
	</script>
{% endblock %}
